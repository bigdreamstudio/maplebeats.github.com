---
layout: post
author: maplebeats
title: 升级arch
summary: 无聊蛋疼，闷得慌。下午把grub0.97换成syslinux，晚上把内核换成ck。打造我的完美洗发水，去屑效果杠杠的＠＠。
---

h3. syslinux

arch的官方推发了个grub0.97上游已经不更新的推，然后还有个博客链接教怎么换成syslinux引导。正好我用的就是grub0.97，本着不更新不爽的原则，果断装上了syslinux。果不其然，本着看教程从不看全的原则，阵亡了。重启开机连syslinux的影子都没见到，只见到了grub> command。幸好grub还在...手动引导，引导了几次都直接kernel panic。最后发现忘了加INITRD...重新进去系统之后发现，我运行 @/usr/sbin/syslinux-install_update -iam@的时候有报错, @set boot flag fail@，于是就把-a参数去掉了。reboot，切换成功。

可惜的是syslinux依然和grub0.97一样丑，应该说更丑些。虽然UI可以自己定义，我加了个1900X1200的图直接不认，FUCK。就那几秒，无所谓了。

h3. ck

ck以前装过，不过因为双显卡驱动问题嫌麻烦我就放弃了。现在我自己在维护我本本驱动的PKGBUILD，所以无所谓麻烦不麻烦了。archlinuxcn的repo-ck镜像有问题，所以就直接用原镜像，下载速度实在是汗颜。本来打算自己编译的，结果那下载速度也是让人汗颜，比repo-ck还慢。结果一不小心装成了linux-ck通用内核，人家提供corex肯定就要用好的嘛。中间重启过来重启过去，好不容易把corex内核装好了，结果启动直接kernel panic。我当时想的是因为通用内核启动正常，所以难道源里的corex内核有问题？反复装通用内核和corex启动都kernel panic。我就开始确定，我的引导肯定写错了。结果认真看引导直接瞎了我的氪金狗眼，INITRD的D不见了！肯定又是该死的本本触摸板惹的＠＠。

h3. 吐槽

最近在看夏娜final，看了16集我看不下去了。剧情太陡峭了，莫名其妙。而且废话一堆又是一堆，更可恨的是在讲什么我都没怎么明白。越看越不爽，不过还好在前面有一部更烂的片子做铺垫，我并没觉得夏娜3不堪入目。

那部*神*片叫《传说中的勇士传说》，烂尾算是烂到了巅峰，无人能超越了，除了国产片。结果一搜才知道，因为一开始人气不怎么样，所以出到后面只出了24集，少了两集时间，剧情混乱算是必然的了。虽然网上说，小说更好看，小说第二部更更好看，看你妹！我什么都看，除了小说。目测这货也不可能出第二季了。

似乎好像也许有一年没怎么追过新番了，堕落了。

h3. 再吐槽

就在刚，起床开电脑。syslinux阵亡了！我什么都没干，它自己就阵亡了，在重启N次无果之后。我找出U盘打开台式机，把grub装到U盘上，希望能从U盘里引导我的系统。我把U盘插上开机，syslinux又TM自己回来了！我还没有启动U盘上的grub！我操＝＝，又成了个未解之谜，再出现直接卸载之不解释。

h3. 修复

又又出问题了edd load error。不过这次我有些明白了，好像是我的配置文件没写对。无所谓了，不过这次用上了我的U盘了。如果只是引导坏掉没有必要做livecd什么的，拿出U盘到 *另*一台装有grub的电脑上，运行 @grub-install --root-directory=/media/xxxx /dev/sdb@。插上要修复的电脑，从u盘启动就能进去grub的命令行了。首先选择硬盘 @root (hd1,0)@，当然这个是我的配置，意思是第二块硬盘的第一个分区，可以自动补全来看到底是哪个。再运行 @kernel /vmlinux-linux root=/dev/sda3 ro@，依然只是我的配置而已。最后 @initrd /initramfs-linux.img@回车，输入boot...该干嘛干嘛吧^.^

